(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["uni_modules-uni-push-admin-pages-sendMessage-sendMessage"],{"018f":function(e,t,a){"use strict";a.r(t);var i=a("7bcb"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"12b5":function(e,t,a){var i=a("6547");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("967d").default;n("13124b7a",i,!0,{sourceMap:!1,shadowMode:!1})},"1dda":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={uniForms:a("839b").default,uniFormsItem:a("7e33").default,uniDataSelect:a("9636").default,uniDataCheckbox:a("674a").default,uniEasyinput:a("f304").default,uniLink:a("30f4").default,uniIcons:a("701f").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-container"},[a("uni-forms",{ref:"form",attrs:{value:e.formData,"validate-trigger":"submit","err-show-type":"toast",id:"from"}},[a("uni-forms-item",{attrs:{name:"appId",label:"选择应用",required:!0}},[a("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,clear:!1},model:{value:e.formData.appId,callback:function(t){e.$set(e.formData,"appId",t)},expression:"formData.appId"}})],1),a("uni-forms-item",{attrs:{name:"platform",label:"目标平台",required:!0}},[a("uni-data-checkbox",{ref:"platform",attrs:{disabled:["device_id","push_clientid","getui_custom_tag"].includes(e.formData.audience_type),localdata:e.formOptions.setPlatform},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.setPlatform.apply(void 0,arguments)}},model:{value:e.platform,callback:function(t){e.platform=t},expression:"platform"}})],1),"ALL"!=e.formData.platform?a("v-uni-view",{attrs:{id:"platform-value-box"}},[a("uni-data-checkbox",{attrs:{disabled:["device_id","push_clientid","getui_custom_tag"].includes(e.formData.audience_type),multiple:!0,min:1,localdata:e.formOptions.platform},model:{value:e.formData.platform,callback:function(t){e.$set(e.formData,"platform",t)},expression:"formData.platform"}})],1):e._e(),a("uni-forms-item",{attrs:{name:"platform",label:"发送目标",required:!0}},[a("uni-data-checkbox",{attrs:{value:"ALL",localdata:e.formOptions.setAudienceType},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.setAudienceType.apply(void 0,arguments)}}})],1),"ALL"!=e.formData.audience_type?a("v-uni-view",{attrs:{id:"audience-value-box"}},[a("uni-data-checkbox",{attrs:{localdata:e.formOptions.audience_type},model:{value:e.formData.audience_type,callback:function(t){e.$set(e.formData,"audience_type",t)},expression:"formData.audience_type"}}),a("uni-forms-item",{attrs:{name:"audience_value"}},[a("uni-easyinput",{attrs:{type:["getui_custom_tag","jql"].includes(e.formData.audience_type)?"text":"textarea",autoHeight:!0,id:"audience-value",placeholder:e.audience_tip.placeholder},model:{value:e.formData.audience_value,callback:function(t){e.$set(e.formData,"audience_value",t)},expression:"formData.audience_value"}})],1),a("v-uni-text",{staticStyle:{"font-size":"12px",color:"#bbb"}},[e._v(e._s(e.audience_tip.msg))]),"push_clientid"==e.formData.audience_type?a("v-uni-view",{staticClass:"audience-tip"},[a("v-uni-text",[e._v("发送目标基于“")]),a("uni-link",{attrs:{href:"https://uniapp.dcloud.net.cn/uniCloud/uni-cloud-push/api.html#getpushclientid",text:"个推客户端id",color:"#2979ff",fontSize:"12"}}),a("v-uni-text",[e._v("”，不能限制目标平台")])],1):e._e(),"getui_custom_tag"==e.formData.audience_type?a("v-uni-view",{staticClass:"audience-tip"},[a("v-uni-text",[e._v("发送目标基于“")]),a("uni-link",{attrs:{href:"https://uniapp.dcloud.net.cn/uniCloud/uni-cloud-push/api.html#%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%A0%87%E7%AD%BE",text:"个推自定义客户端标签",color:"#2979ff",fontSize:"12"}}),a("v-uni-text",[e._v("”，不能限制目标平台")])],1):e._e(),"device_id"==e.formData.audience_type?a("v-uni-view",{staticClass:"audience-tip"},[a("v-uni-text",[e._v("发送目标基于设备ID时，不能限制目标平台")])],1):e._e()],1):e._e(),a("uni-forms-item",{attrs:{label:"通知栏点击行为",required:!0}},[a("uni-data-checkbox",{attrs:{localdata:e.formOptions.clickNotificationAction},model:{value:e.clickNotificationAction,callback:function(t){e.clickNotificationAction=t},expression:"clickNotificationAction"}})],1),e.platformHasApp?a("uni-forms-item",{attrs:{name:"force_notification",label:"强制通知栏消息"}},[a("v-uni-view",{staticClass:"force-notification-tip"},[a("uni-icons",{attrs:{type:"help-filled",size:"16",color:"#DDD"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showForceNotificationTip.apply(void 0,arguments)}}})],1),a("v-uni-switch",{attrs:{disabled:!e.platformHasApp,checked:e.formData.force_notification},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.setData("force_notification",t.detail.value)}}}),a("v-uni-text",{staticStyle:{color:"#666666"}},[e._v("(仅App端有效)")])],1):e._e(),this.clickNotificationAction?a("uni-forms-item",{key:"open_url",attrs:{name:"open_url",label:"URL链接",required:!0}},[a("uni-easyinput",{attrs:{type:"text",placeholder:"以http(s)://开头的有效可访问链接"},model:{value:e.formData.open_url,callback:function(t){e.$set(e.formData,"open_url",t)},expression:"formData.open_url"}})],1):a("uni-forms-item",{key:"payload",attrs:{name:"payload",label:"透传内容",required:this.platformHasWithoutApp}},[a("uni-link",{staticClass:"payload-help",attrs:{href:"https://uniapp.dcloud.io/unipush-v2.html#listener",showUnderLine:!1}},[a("uni-icons",{attrs:{type:"help-filled",size:"16",color:"#DDD"}})],1),a("uni-easyinput",{attrs:{type:"textarea",maxlength:"3072",placeholder:e.payload_tip,trim:"both"},model:{value:e.formData.payload,callback:function(t){e.$set(e.formData,"payload",t)},expression:"formData.payload"}})],1),e.platformHasApp?a("v-uni-view",[a("uni-forms-item",{attrs:{name:"title",label:"APP通知栏标题",required:!0}},[a("uni-easyinput",{attrs:{placeholder:"应用离线时,显示在通知栏的标题,长度小于20字",trim:"both"},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1),a("uni-forms-item",{attrs:{name:"content",label:"APP通知栏内容",required:!0}},[a("uni-easyinput",{attrs:{placeholder:"应用离线时,显示在通知栏的内容,长度小于50字",trim:"both"},model:{value:e.formData.content,callback:function(t){e.$set(e.formData,"content",t)},expression:"formData.content"}})],1),"ALL"==e.formData.platform||e.formData.platform.includes("app-android")?a("uni-forms-item",{staticClass:"channel-box",attrs:{name:"channel",label:"渠道_id"}},[a("uni-link",{staticClass:"channel-help",attrs:{href:"https://uniapp.dcloud.io/uniCloud/uni-cloud-push/api.html#channel",showUnderLine:!1}},[a("uni-icons",{attrs:{type:"help-filled",size:"16",color:"#DDD"}})],1),a("v-uni-view",{staticClass:"channel-input-box"},[a("uni-easyinput",{attrs:{placeholder:"华为渠道_id",trim:"both"},model:{value:e.channel.HW,callback:function(t){e.$set(e.channel,"HW",t)},expression:"channel.HW"}}),a("uni-easyinput",{attrs:{placeholder:"小米渠道_id",trim:"both"},model:{value:e.channel.XM,callback:function(t){e.$set(e.channel,"XM",t)},expression:"channel.XM"}}),a("uni-easyinput",{attrs:{placeholder:"vivo渠道_id",trim:"both"},model:{value:e.channel.VO,callback:function(t){e.$set(e.channel,"VO",t)},expression:"channel.VO"}}),a("uni-easyinput",{attrs:{placeholder:"oppo渠道_id",trim:"both"},model:{value:e.channel.OP,callback:function(t){e.$set(e.channel,"OP",t)},expression:"channel.OP"}})],1)],1):e._e(),a("uni-forms-item",{attrs:{name:"sound",label:"自定义push铃声"}},[a("uni-link",{staticClass:"sound-help",attrs:{href:"https://uniapp.dcloud.io/uniCloud/uni-cloud-push/api.html#sound",showUnderLine:!1}},[a("uni-icons",{attrs:{type:"help-filled",size:"16",color:"#DDD"}})],1),a("uni-easyinput",{attrs:{placeholder:"填写文件名,不含扩展名；如：pushsound.caf填写pushsound即可。不填或铃声文件未找到，响铃为系统默认铃声。"},model:{value:e.formData.sound,callback:function(t){e.$set(e.formData,"sound",t)},expression:"formData.sound"}})],1),e.platformHasApp?a("uni-forms-item",{attrs:{name:"content_available",label:"静默消息"}},[a("v-uni-view",{staticClass:"content-available-tip"},[a("uni-icons",{attrs:{type:"help-filled",size:"16",color:"#DDD"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showContentAvailableTip.apply(void 0,arguments)}}})],1),a("v-uni-switch",{attrs:{checked:e.formData.content_available,disabled:!e.onlyIos},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.setData("content_available",t.detail.value)}}}),a("v-uni-text",{staticStyle:{color:"#666666"}},[e._v("(仅选择iOS平台时有效)")])],1):e._e(),a("uni-forms-item",{attrs:{label:"扩展字段"}},[a("uni-link",{staticClass:"options-help",attrs:{href:"https://uniapp.dcloud.io/uniCloud/uni-cloud-push/options.html",showUnderLine:!1}},[a("uni-icons",{attrs:{type:"help-filled",size:"16",color:"#DDD"}})],1),a("uni-easyinput",{attrs:{type:"textarea",maxlength:"3072",placeholder:"JSON格式，用于厂商消息拓展",trim:"both"},model:{value:e.formData.options,callback:function(t){e.$set(e.formData,"options",t)},expression:"formData.options"}})],1)],1):e._e(),a("v-uni-view",{staticClass:"uni-button-group"},[a("v-uni-button",{staticClass:"uni-button",attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("提交")])],1)],1)],1)},o=[]},"215b":function(e,t,a){"use strict";(function(e){a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.validator=void 0;var i={platform:{rules:[{required:!0}],label:"目标平台"},audience_type:{rules:[{required:!0},{format:"string"},{validateFunction:function(e,t,a,i){if("ALL"!=a.audience_type&&!a.audience_value){return i({ALL:"所有用户",user_id:"用户ID",custom_tag:"用户标签",cid:"推送设备标识"}[a.audience_type]+"不能为空"),!1}}},{range:[{text:"所有用户",value:"ALL"},{text:"用户ID",value:"user_id"},{text:"用户标签",value:"custom_tag"},{text:"推送设备标识",value:"cid"}]}],label:"目标用户"},audience_value:{rules:[{required:!1},{format:"string"},{maxLength:99}]},url:{rules:[{required:!0},{format:"url"}],label:"url链接，华为平台必须使用https"},title:{rules:[{format:"string"},{required:!0},{maxLength:32}],label:"标题"},content:{rules:[{required:!0},{format:"string"},{maxLength:32}],label:"副标题"},click_type:{rules:[{required:!0},{format:"string"},{range:[{text:"透传参数并唤醒APP",value:"intent"},{text:"使用浏览器打开链接",value:"open_url"}]}],label:"点击通知后"},payload:{rules:[{required:!0},{format:"string"},{validateFunction:function(t,a,i,n){e.log(a),a||n("非APP端，透传内容不能为空")}}],label:"透传内容"},badge:{rules:[{format:"number"}],label:"角标"},channel:{rules:[{format:"string"}],label:"消息渠道channel_id"},sound:{rules:[{format:"string"}],label:"铃声设置"},"content-available":{rules:[{format:"bool"}],label:"是否为静默消息（仅ios有效）"},force_notification:{rules:[{format:"bool"}],label:"强制通知栏消息"}};t.validator=i}).call(this,a("ba7c")["default"])},"283b":function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("64aa"),a("9db6");var i={name:"uniLink",props:{href:{type:String,default:""},text:{type:String,default:""},download:{type:String,default:""},showUnderLine:{type:[Boolean,String],default:!0},copyTips:{type:String,default:"已自动复制网址，请在手机浏览器里粘贴该网址"},color:{type:String,default:"#999999"},fontSize:{type:[Number,String],default:14}},computed:{isShowA:function(){this._isH5=!0}},created:function(){this._isH5=null},methods:{isMail:function(){return this.href.startsWith("mailto:")},isTel:function(){return this.href.startsWith("tel:")},openURL:function(){"打开点评"!=this.text&&"百度搜索"!=this.text&&uni.setClipboardData({data:this.text}),"打开点评"!=this.text&&"百度搜索"!=this.text&&uni.setClipboardData({data:this.text}),window.open(this.href)},makePhoneCall:function(e){uni.makePhoneCall({phoneNumber:e})}}};t.default=i},"2a17":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isShowA?a("a",{staticClass:"uni-link",class:{"uni-link--withline":!0===e.showUnderLine||"true"===e.showUnderLine},style:{color:e.color,fontSize:e.fontSize+"px"},attrs:{href:e.href,download:e.download}},[e._t("default",[e._v(e._s(e.text))])],2):a("v-uni-text",{staticClass:"uni-link",class:{"uni-link--withline":!0===e.showUnderLine||"true"===e.showUnderLine},style:{color:e.color,fontSize:e.fontSize+"px"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openURL.apply(void 0,arguments)}}},[e._t("default",[e._v(e._s(e.text))])],2)},n=[]},"2cc5":function(e,t,a){"use strict";a.r(t);var i=a("1dda"),n=a("33bf");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("c469");var l=a("828b"),r=Object(l["a"])(n["default"],i["b"],i["c"],!1,null,"502455a8",null,!1,i["a"],void 0);t["default"]=r.exports},"30f4":function(e,t,a){"use strict";a.r(t);var i=a("2a17"),n=a("d3a9");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("9ed3");var l=a("828b"),r=Object(l["a"])(n["default"],i["b"],i["c"],!1,null,"ab5212f0",null,!1,i["a"],void 0);t["default"]=r.exports},"33bf":function(e,t,a){"use strict";a.r(t);var i=a("e354"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"424e":function(e,t,a){var i=a("c91b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("967d").default;n("1b426cac",i,!0,{sourceMap:!1,shadowMode:!1})},6547:function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,"uni-view[data-v-502455a8]{display:flex;box-sizing:border-box;flex-direction:column}.uni-container[data-v-502455a8]{padding:15px}.uni-container .uni-link[data-v-502455a8] {text-decoration:none}.uni-container[data-v-502455a8]  .uni-stat__select{padding:0}.uni-container[data-v-502455a8]  .uni-select{padding-left:10px}.uni-input-border[data-v-502455a8],\n.uni-textarea-border[data-v-502455a8]{width:100%;font-size:14px;color:#666;border:1px #e5e5e5 solid;border-radius:5px;box-sizing:border-box}.uni-input-border[data-v-502455a8]{padding:0 10px;height:35px}.uni-textarea-border[data-v-502455a8]{padding:10px;height:80px}.uni-button-group[data-v-502455a8]{\ndisplay:flex;\nalign-items:center}.uni-button[data-v-502455a8]{width:184px;padding:12px 20px;font-size:14px;border-radius:4px;line-height:1;margin:0}#from[data-v-502455a8]{max-width:100%}.uni-container[data-v-502455a8]  .uni-forms-item__label{flex-shrink:0;width:125px!important}#from[data-v-502455a8]  .is-required{position:relative;left:-12px;margin-right:-8px}#platform-value-box[data-v-502455a8],\n#audience-value-box[data-v-502455a8]{border:solid 1px #dcdfe6;border-radius:4px;margin-bottom:10px;padding:10px;width:78%;margin-left:120px;margin-top:-14px}#platform-value-box[data-v-502455a8]  .uni-forms-item__content,\n#audience-value-box[data-v-502455a8]  .uni-forms-item__content{margin:10px 0}#audience-value-box[data-v-502455a8]  .uni-forms-item{margin-bottom:0}#audience-value-box[data-v-502455a8]  .uni-easyinput__content-textarea{min-height:20px;line-height:20px}#audience-value-box[data-v-502455a8]  .uni-forms-item__inner{padding-bottom:0}#audience-value-box[data-v-502455a8]  .uni-forms-item__label{width:0!important}#from[data-v-502455a8]  .uni-forms-item__content{display:flex;flex-direction:row;align-items:center}.channel-box[data-v-502455a8]  .uni-easyinput{margin-right:%?30?%}.channel-box[data-v-502455a8]  .uni-easyinput:last-child{margin-right:0}.payload-help[data-v-502455a8]{left:-45px;margin-left:-25px;margin-right:10px;position:relative;margin-top:-55px}.channel-help[data-v-502455a8]{left:-55px;margin-right:4px;margin-left:-20px;position:relative}.channel-input-box[data-v-502455a8]{flex-direction:row}@media screen and (max-width:690px){.channel-input-box[data-v-502455a8]{flex-direction:column;width:100%}.channel-input-box .uni-easyinput[data-v-502455a8]{margin-bottom:10px}.channel-input-box uni-input[data-v-502455a8]{width:100%}.channel-help[data-v-502455a8]{top:-73px;left:-55px;margin-left:-20px;position:relative}}.sound-help[data-v-502455a8]{margin-left:-20px;margin-right:5px;position:relative}.force-notification-tip[data-v-502455a8]{left:-5px;margin-left:-20px;margin-right:4px;position:relative;cursor:pointer}.content-available-tip[data-v-502455a8]{left:-45px;margin-left:-20px;margin-right:4px;position:relative;cursor:pointer}.options-help[data-v-502455a8]{left:-45px;margin-left:-20px;position:relative;margin-top:-55px;margin-right:4px}.audience-tip[data-v-502455a8]{flex-direction:row;color:#bbb;font-size:12px}",""]),e.exports=t},6680:function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,"\n.uni-link[data-v-ab5212f0]{cursor:pointer}\n.uni-link--withline[data-v-ab5212f0]{text-decoration:underline}",""]),e.exports=t},7981:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={uniIcons:a("701f").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-stat__select"},[e.label?a("span",{staticClass:"uni-label-text hide-on-phone"},[e._v(e._s(e.label+"："))]):e._e(),a("v-uni-view",{staticClass:"uni-stat-box",class:{"uni-stat__actived":e.current}},[a("v-uni-view",{staticClass:"uni-select",class:{"uni-select--disabled":e.disabled}},[a("v-uni-view",{staticClass:"uni-select__input-box",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleSelector.apply(void 0,arguments)}}},[e.current?a("v-uni-view",{staticClass:"uni-select__input-text"},[e._v(e._s(e.current))]):a("v-uni-view",{staticClass:"uni-select__input-text uni-select__input-placeholder"},[e._v(e._s(e.typePlaceholder))]),e.current&&e.clear&&!e.disabled?a("v-uni-view",{on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clearVal.apply(void 0,arguments)}}},[a("uni-icons",{attrs:{type:"clear",color:"#c0c4cc",size:"24"}})],1):a("v-uni-view",[a("uni-icons",{attrs:{type:e.showSelector?"top":"bottom",size:"14",color:"#999"}})],1)],1),e.showSelector?a("v-uni-view",{staticClass:"uni-select--mask",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleSelector.apply(void 0,arguments)}}}):e._e(),e.showSelector?a("v-uni-view",{staticClass:"uni-select__selector"},[a("v-uni-view",{staticClass:"uni-popper__arrow"}),a("v-uni-scroll-view",{staticClass:"uni-select__selector-scroll",attrs:{"scroll-y":"true"}},[0===e.mixinDatacomResData.length?a("v-uni-view",{staticClass:"uni-select__selector-empty"},[a("v-uni-text",[e._v(e._s(e.emptyTips))])],1):e._l(e.mixinDatacomResData,(function(t,i){return a("v-uni-view",{key:i,staticClass:"uni-select__selector-item",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.change(t)}}},[a("v-uni-text",{class:{"uni-select__selector__disabled":t.disable}},[e._v(e._s(e.formatItemName(t)))])],1)}))],2)],1):e._e()],1)],1)],1)},o=[]},"7bcb":function(e,t,a){"use strict";(function(e){a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("64aa"),a("aa77"),a("bf0f"),a("2797"),a("5c47"),a("a1c1"),a("23f4"),a("7d2f"),a("9c4e"),a("ab80"),a("5ef2"),a("c223");var i={name:"uni-data-select",mixins:[e.mixinDatacom||{}],props:{localdata:{type:Array,default:function(){return[]}},value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},label:{type:String,default:""},placeholder:{type:String,default:"请选择"},emptyTips:{type:String,default:"无选项"},clear:{type:Boolean,default:!0},defItem:{type:Number,default:0},disabled:{type:Boolean,default:!1},format:{type:String,default:""}},data:function(){return{showSelector:!1,current:"",mixinDatacomResData:[],apps:[],channels:[],cacheKey:"uni-data-select-lastSelectedValue"}},created:function(){var e=this;this.debounceGet=this.debounce((function(){e.query()}),300),this.collection&&!this.localdata.length&&this.debounceGet()},computed:{typePlaceholder:function(){var e=this.placeholder,t={"opendb-stat-app-versions":"版本","opendb-app-channels":"渠道","opendb-app-list":"应用"}[this.collection];return t?e+t:e},valueCom:function(){return this.value}},watch:{localdata:{immediate:!0,handler:function(e,t){Array.isArray(e)&&t!==e&&(this.mixinDatacomResData=e)}},valueCom:function(e,t){this.initDefVal()},mixinDatacomResData:{immediate:!0,handler:function(e){e.length&&this.initDefVal()}}},methods:{debounce:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=null;return function(){for(var i=this,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];a&&clearTimeout(a),a=setTimeout((function(){e.apply(i,o)}),t)}},query:function(){this.mixinDatacomEasyGet()},onMixinDatacomPropsChange:function(){this.collection&&this.debounceGet()},initDefVal:function(){var e="";if(!this.valueCom&&0!==this.valueCom||this.isDisabled(this.valueCom)){var t;if(this.collection&&(t=this.getCache()),t||0===t)e=t;else{var a="";this.defItem>0&&this.defItem<=this.mixinDatacomResData.length&&(a=this.mixinDatacomResData[this.defItem-1].value),e=a}(e||0===e)&&this.emit(e)}else e=this.valueCom;var i=this.mixinDatacomResData.find((function(t){return t.value===e}));this.current=i?this.formatItemName(i):""},isDisabled:function(e){var t=!1;return this.mixinDatacomResData.forEach((function(a){a.value===e&&(t=a.disable)})),t},clearVal:function(){this.emit(""),this.collection&&this.removeCache()},change:function(e){e.disable||(this.showSelector=!1,this.current=this.formatItemName(e),this.emit(e.value))},emit:function(e){this.$emit("input",e),this.$emit("update:modelValue",e),this.$emit("change",e),this.collection&&this.setCache(e)},toggleSelector:function(){this.disabled||(this.showSelector=!this.showSelector)},formatItemName:function(e){var t=e.text,a=e.value,i=e.channel_code;if(i=i?"(".concat(i,")"):"",this.format){var n="";for(var o in n=this.format,e)n=n.replace(new RegExp("{".concat(o,"}"),"g"),e[o]);return n}return this.collection.indexOf("app-list")>0?"".concat(t,"(").concat(a,")"):t||"未命名".concat(i)},getLoadData:function(){return this.mixinDatacomResData},getCurrentCacheKey:function(){return this.collection},getCache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentCacheKey(),t=uni.getStorageSync(this.cacheKey)||{};return t[e]},setCache:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentCacheKey(),a=uni.getStorageSync(this.cacheKey)||{};a[t]=e,uni.setStorageSync(this.cacheKey,a)},removeCache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentCacheKey(),t=uni.getStorageSync(this.cacheKey)||{};delete t[e],uni.setStorageSync(this.cacheKey,t)}}};t.default=i}).call(this,a("861b")["default"])},9636:function(e,t,a){"use strict";a.r(t);var i=a("7981"),n=a("018f");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("cdaf");var l=a("828b"),r=Object(l["a"])(n["default"],i["b"],i["c"],!1,null,"daed2cc6",null,!1,i["a"],void 0);t["default"]=r.exports},"9ed3":function(e,t,a){"use strict";var i=a("b740"),n=a.n(i);n.a},b740:function(e,t,a){var i=a("6680");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("967d").default;n("734c3dc0",i,!0,{sourceMap:!1,shadowMode:!1})},c469:function(e,t,a){"use strict";var i=a("12b5"),n=a.n(i);n.a},c91b:function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */@media screen and (max-width:500px){.hide-on-phone[data-v-daed2cc6]{display:none}}.uni-stat__select[data-v-daed2cc6]{display:flex;align-items:center;cursor:pointer;width:100%;flex:1;box-sizing:border-box}.uni-stat-box[data-v-daed2cc6]{width:100%;flex:1}.uni-stat__actived[data-v-daed2cc6]{width:100%;flex:1}.uni-label-text[data-v-daed2cc6]{font-size:14px;font-weight:700;color:#6a6a6a;margin:auto 0;margin-right:5px}.uni-select[data-v-daed2cc6]{font-size:14px;border:1px solid #e5e5e5;box-sizing:border-box;border-radius:4px;padding:0 5px;padding-left:10px;position:relative;display:flex;-webkit-user-select:none;-moz-user-select:none;user-select:none;flex-direction:row;align-items:center;border-bottom:solid 1px #e5e5e5;width:100%;flex:1;height:35px}.uni-select--disabled[data-v-daed2cc6]{background-color:#f5f7fa;cursor:not-allowed}.uni-select__label[data-v-daed2cc6]{font-size:16px;height:35px;padding-right:10px;color:#909399}.uni-select__input-box[data-v-daed2cc6]{height:35px;position:relative;display:flex;flex:1;flex-direction:row;align-items:center}.uni-select__input[data-v-daed2cc6]{flex:1;font-size:14px;height:22px;line-height:22px}.uni-select__input-plac[data-v-daed2cc6]{font-size:14px;color:#909399}.uni-select__selector[data-v-daed2cc6]{box-sizing:border-box;position:absolute;top:calc(100% + 12px);left:0;width:100%;background-color:#fff;border:1px solid #ebeef5;border-radius:6px;box-shadow:0 2px 12px 0 rgba(0,0,0,.1);z-index:3;padding:4px 0}.uni-select__selector-scroll[data-v-daed2cc6]{max-height:200px;box-sizing:border-box}@media (min-width:768px){.uni-select__selector-scroll[data-v-daed2cc6]{max-height:600px}}.uni-select__selector-empty[data-v-daed2cc6],\r\n.uni-select__selector-item[data-v-daed2cc6]{display:flex;cursor:pointer;line-height:35px;font-size:14px;text-align:center;\r\n  /* border-bottom: solid 1px $uni-border-3; */padding:0 10px}.uni-select__selector-item[data-v-daed2cc6]:hover{background-color:#f9f9f9}.uni-select__selector-empty[data-v-daed2cc6]:last-child,\r\n.uni-select__selector-item[data-v-daed2cc6]:last-child{border-bottom:none}.uni-select__selector__disabled[data-v-daed2cc6]{opacity:.4;cursor:default}\r\n/* picker 弹出层通用的指示小三角 */.uni-popper__arrow[data-v-daed2cc6],\r\n.uni-popper__arrow[data-v-daed2cc6]::after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid;border-width:6px}.uni-popper__arrow[data-v-daed2cc6]{filter:drop-shadow(0 2px 12px rgba(0,0,0,.03));top:-6px;left:10%;margin-right:3px;border-top-width:0;border-bottom-color:#ebeef5}.uni-popper__arrow[data-v-daed2cc6]::after{content:" ";top:1px;margin-left:-6px;border-top-width:0;border-bottom-color:#fff}.uni-select__input-text[data-v-daed2cc6]{width:100%;color:#333;white-space:nowrap;text-overflow:ellipsis;-o-text-overflow:ellipsis;overflow:hidden}.uni-select__input-placeholder[data-v-daed2cc6]{color:#6a6a6a;font-size:12px}.uni-select--mask[data-v-daed2cc6]{position:fixed;top:0;bottom:0;right:0;left:0;z-index:2}',""]),e.exports=t},cdaf:function(e,t,a){"use strict";var i=a("424e"),n=a.n(i);n.a},d3a9:function(e,t,a){"use strict";a.r(t);var i=a("283b"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},e354:function(e,t,a){"use strict";(function(e,i){a("6a54");var n=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("2634")),l=n(a("fcf3")),r=n(a("2fdc")),c=n(a("9b1b"));a("5ef2"),a("4626"),a("5ac7"),a("8f71"),a("bf0f"),a("dc8a"),a("d4b5");var u=a("215b"),s=e.importObject("uni-push-co");function d(e){var t={};for(var a in u.validator)e.indexOf(a)>-1&&(t[a]=u.validator[a]);return t}var p={computed:{audience_tip:function(){var e=this.formData.audience_value||"",t=e?e.split("\n").length:0;switch(this.formData.audience_type){case"user_id":return{placeholder:"请输入uni-id-users表对应的用户_id",msg:"多个值可按“回车键”换行分隔，当前已输入".concat(t,"个")};case"user_tag":return{placeholder:"请输入uni-id-tag表对应的nane值",msg:"多个值可按“回车键”换行分隔，当前已输入".concat(t,"个")};case"device_id":return{placeholder:"请输入uni-id-device表对应的device_id的值",msg:"多个值可按“回车键”换行分隔，当前已输入".concat(t,"个")};case"push_clientid":return{placeholder:"请输入uni-id-device表对应的设备推送标识push_clientid的值",msg:"多个值可按“回车键”换行分隔，当前已输入".concat(t,"个")};case"getui_custom_tag":return{placeholder:"请输入通过uni-cloud-push的设置push客户端标签",msg:"仅限支持输入1个自定义push客户端标签"};case"jql":return{placeholder:"请输入查询uni-id-user表的jql查询表达式",msg:""};default:return{placeholder:"",msg:""}}},platformHasApp:function(){var e=this.formData.platform;return"ALL"==e||e.includes("app-android")||e.includes("app-ios")},platformHasWithoutApp:function(){var e=this.formData.platform;return"ALL"==e||0!=e.filter((function(e){return-1==e.indexOf("app-")})).length},onlyIos:function(){return 1==this.formData.platform.length&&this.formData.platform.includes("app-ios")}},data:function(){var e={platform:"ALL",audience_type:"ALL",audience_value:"",title:"",content:"",open_url:"",payload:"",badge:"+1",sound:"",content_available:!1,force_notification:!1,appId:"",options:""};return{platform:"ALL",formData:e,formOptions:{platform:[{text:"网页端",value:"web"},{text:"App-iOS",value:"app-ios"},{text:"App-Android",value:"app-android"},{text:"微信小程序",value:"mp-weixin"},{text:"360小程序",value:"mp-360"},{text:"百度小程序",value:"mp-baidu"},{text:"支付宝小程序",value:"mp-alipay"},{text:"字节跳动小程序",value:"mp-toutiao"},{text:"QQ小程序",value:"mp-qq"},{text:"快应用联盟",value:"quickapp-webview-union"},{text:"快应用华为",value:"quickapp-webview-huawei"},{text:"快手小程序",value:"mp-kuaishou"},{text:"飞书小程序",value:"mp-lark"},{text:"京东小程序",value:"mp-jd"}],setPlatform:[{text:"所有平台",value:"ALL"},{text:"指定平台",value:"custom"}],setAudienceType:[{text:"所有设备",value:"ALL"},{text:"指定设备",value:"custom"}],audience_type:[{text:"用户id",value:"user_id"},{text:"用户标签",value:"user_tag"},{text:"设备id",value:"device_id"},{text:"个推客户端id",value:"push_clientid"},{text:"个推自定义客户端标签",value:"getui_custom_tag"}],clickNotificationAction:[{text:"打开应用并透传消息",value:0},{text:"启动系统浏览器打开链接（仅Android支持）",value:1,disable:!0}]},rules:(0,c.default)({},d(Object.keys(e))),clickNotificationAction:0,payload_tip:'建议用json格式,如:{"user_id":"xxx","content":"xxx"}\n可以通过uni.onPushMessage接收;接收。长度 ≤ 3072',channel:{hw:null,xm:null,vivo:null,oppo:null}}},onReady:function(){this.$refs.form.setRules(this.rules),uni.onPushMessage((function(e){uni.showToast({title:"收到push消息："+JSON.stringify(e),icon:"none",duration:5e3})}))},watch:{"formData.audience_type":{handler:function(e){this.formData.audience_value="",["device_id","push_clientid","getui_custom_tag"].includes(e)&&(this.platform="ALL",this.formData.platform="ALL")}},"formData.platform":{handler:function(e){e.includes("app-android")&&1==e.length?this.formOptions.clickNotificationAction[1].disable=!1:(this.clickNotificationAction=0,this.formOptions.clickNotificationAction[1].disable=!0)}}},methods:{setData:function(e,t){this.formData[e]=t},setPlatform:function(e){"ALL"==e.detail.value?this.formData.platform="ALL":this.formData.platform=["web"]},setAudienceType:function(e){"ALL"==e.detail.value?this.formData.audience_type="ALL":this.formData.audience_type="user_id"},submit:function(){var t=this;return(0,r.default)((0,o.default)().mark((function a(){var n;return(0,o.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=(0,c.default)({},t.formData),u.validator.payload.rules[0].required=t.platformHasWithoutApp,!t.formData.options){a.next=12;break}if(a.prev=3,"object"==(0,l.default)(JSON.parse(t.formData.options))){a.next=6;break}return a.abrupt("return",uni.showToast({title:"扩展字段必须为json格式",icon:"none"}));case 6:a.next=11;break;case 8:return a.prev=8,a.t0=a["catch"](3),a.abrupt("return",uni.showToast({title:"扩展字段必须为json格式",icon:"none"}));case 11:n.options=JSON.parse(t.formData.options);case 12:if("ALL"==n.audience_type||n.audience_value){a.next=14;break}return a.abrupt("return",uni.showToast({title:n.audience_type+"的值不能为空",icon:"none"}));case 14:uni.showLoading(),t.$refs.form.validate().then(function(){var a=(0,r.default)((0,o.default)().mark((function a(l){var r,u,d,p;return(0,o.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=(0,c.default)({},n),r.channel=t.channel,"ALL"!=n.audience_type&&(["user_id","device_id","push_clientid","getui_custom_tag"].includes(n.audience_type)?r[n.audience_type]=n.audience_value.split("\n"):r[n.audience_type]=n.audience_value),r.content_available=r.content_available?1:0,r.payload)try{r.payload=JSON.parse(r.payload)}catch(l){i.log(l)}return delete r.audience_type,delete r.audience_value,i.log("data",r),a.next=10,s.sendMessage(r);case 10:return u=a.sent,i.log({res:u}),u.errMsg,d=u.data.taskid||Object.keys(u.data)[0],p=e.database(),a.next=17,p.collection("uni-push-log").add((0,c.default)({taskid:d},n));case 17:u=a.sent,uni.showModal({content:"推送成功，任务id:"+d,confirmText:"查看推送情况",success:function(e){e.confirm&&uni.navigateTo({url:"/uni_modules/uni-push-admin/pages/log/list"})}});case 19:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 16:case"end":return a.stop()}}),a,null,[[3,8]])})))()},showContentAvailableTip:function(){uni.showModal({content:"iOS设备当应用切到后台时收到push消息，默认以通知栏消息提醒用户。你可以通过开启静默消息来关闭该行为。苹果官方建议1小时最多推送3条静默消息",confirmText:"知道了",showCancel:!1})},showForceNotificationTip:function(){uni.showModal({content:"无论是离线推送还是在线推送，都会自创建通知栏消息。HBuilderX 3.5.2 及其以上版本的客户端支持\t",confirmText:"知道了",showCancel:!1})}}};t.default=p}).call(this,a("861b")["default"],a("ba7c")["default"])}}]);